
model {
    phi ~ dunif(0, 1)
    p ~ dunif(0, 1)
    for(i in 1:nind) {
        logL[i] <- -1*(last[i]-first[i])*log(phi) - (nSightings[i]-1)*log(p) - (last[i]-first[i]-nSightings[i]+1)*log(1-p) - logChi[last[i]]
        zerosVector[i] ~ dpois(logL[i])
    }
    chi[k] <- 1
    for(j in 1:(k-1)) {
        chi[k-j] <- (1-phi) + phi * (1-p) * chi[k-j+1]
    }
    for(j in 1:k) {
        logChi[j] <- log(chi[j])
    }
}

